Title: v0.8.5
Tag: release
Date: 2025-11-29 10:55:45-08:00
UUID: 962df214-d34e-41d9-8bc4-998de4484910
Entry-ID: 605

Publ v0.8.5 is out now, and it changes how UUIDs are handled on entries. First of all, now there's a unique constraint on them (to prevent mishaps like copying an entry as a template and forgetting to remove the UUID), and secondly it's now gone back to using a UUID4 instead of a UUID5, since UUID5 made it way too easy to generate collisions.

In order to upgrade you'll have to remove any duplicate UUIDs. To find entries with duplicate UUIDs you can run something like:

```
find . -name '*.md' -print0 | xargs -0 grep 'UUID' | cut -f2- -d: | sort | uniq -c | sort -n
```

which will show how many entries have each UUID. For every UUID that has a count greater than 1, you'll have to do something like:

```
grep -rl bc3ced56-93c3-4252-aa85-48fb85b253de .
```

which will then list all of the entries with UUID `bc3ced56-93c3-4252-aa85-48fb85b253de`, and then you can decide which one(s) to remove the UUID from, and then reindex the site (with `poetry flask publ reindex`) to generate the new UUIDs.

This will help to clear up weird issues where items don't appear as new in feeds, and also paves the way for some future functionality I've been wanting to implement which relies on the second U in UUID being true.

Note that since this change modifies the database, it will require a full site reindex. I recommend fixing any known UUID issues before upgrading Publ.
